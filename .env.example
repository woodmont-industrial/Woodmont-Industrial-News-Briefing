# Woodmont Industrial News Briefing - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# =============================================================================
# SECURITY SETTINGS (Required for Production)
# =============================================================================

# API Key for protected endpoints (manual article submission, newsletter sending)
# Generate a secure random key: openssl rand -hex 32
API_KEY=your-secure-api-key-here

# Set to "true" to require API key for protected endpoints
# MUST be "true" in production
REQUIRE_API_KEY=false

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Comma-separated list of allowed origins for CORS
# Example: https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=

# Set to "true" to allow all origins (ONLY for development!)
# MUST be "false" in production
CORS_ALLOW_ALL=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# Maximum requests per minute per IP address
RATE_LIMIT_MAX=100

# =============================================================================
# EMAIL CONFIGURATION (Required for Newsletter Feature)
# =============================================================================

# OPTION 1: Power Automate Webhook (RECOMMENDED)
# -------------------------------------------------
# Sends email via corporate O365 account - no SMTP credentials needed!
# Create a Power Automate flow with HTTP trigger â†’ Send Email (V2)
# The webhook URL looks like: https://prod-XX.westus.logic.azure.com/workflows/...

WEBHOOK_URL=
WEBHOOK_SECRET=

# OPTION 2: SMTP Fallback (only if webhook not configured)
# -------------------------------------------------
# Used if WEBHOOK_URL is not set - requires SMTP access

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# Email sender address (used for SMTP only)
EMAIL_FROM=news@yourcompany.com

# Default recipients (comma-separated) - used for both methods
EMAIL_TO=recipient1@company.com,recipient2@company.com

# =============================================================================
# LOGGING
# =============================================================================

# Log file path
LOG_FILE=server.log

# Set to "false" to disable file logging
LOG_TO_FILE=true

# =============================================================================
# SERVER SETTINGS
# =============================================================================

# Server port (default: 8080)
PORT=8080

# Node environment
NODE_ENV=development

# =============================================================================
# GITHUB ACTIONS (for automated workflows)
# =============================================================================
# These are set as GitHub Secrets, not in .env
# - GITHUB_TOKEN (automatically provided)
# - SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASS, EMAIL_FROM, EMAIL_TO
